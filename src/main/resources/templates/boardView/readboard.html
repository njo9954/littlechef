<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org"
	  xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="UTF-8">
<title>후기 게시판</title>
<link rel="stylesheet" th:href="@{/css/read.css}">
<script>
	//글 삭제
	function deleteBoard(b_num) {
		if (confirm('삭제하시겠습니까?')) {
			location.href = 'delete?b_num=' + b_num; // get방식
		}
	} 
	function vaildation() {
		
	}
	function deleteReply(br_num, b_num) {
		if(confirm('댓글을 삭제하시겠습니까?')) {
			location.href = 'deleteReply?br_num=' + br_num;
		}
	}
</script>
</head>
<body>
	<h1>[ 후기 게시판 ]</h1>
	<p><a th:href="@{/}"><input type="button" value="home"></a></p> 
	<table>
		<tr>
			<th>작성자</th>
			<td th:text="${board.m_id}"></td>
		</tr>
		<tr>
			<th>작성일</th>
			<td th:text="${board.b_datetime}"></td>
		</tr>
		<tr>
			<th>조회수</th>
			<td th:text=${board.b_readcount}></td>
		</tr>
		<tr>
			<th>제목</th>
			<td th:text="${board.b_title}"></td>
		</tr>
		<tr>
			<th>내용</th>
			<td th:text="${board.b_contents}"></td>
		</tr>
		<tr>
			<th>파일첨부</th>
			<td>
				<!-- <img src = "/board/download?boardnum=${board.boardnum}"> 
				<div th:if="${board.originalfile} != null">
					<img th:src = "@{/board/download(b_num=${board.b_num})}" style="width: 650px">
				</div>
				<a th:text="${board.originalfile}" th:href="@{/board/download(b_num=${board.b_num})}"></a>
			</td> <!-- 파일 이름 보이고 --> <!-- 이 경로로 이동 --> <!-- 번호를 보내줘야! --> <!-- board.boardnum : 1번 글에 첨부된 파일 내놔라 -->
		</tr>
	</table>
<!-- 본인글인 경우 수정/삭제 -->
	<div th:if="${#authentication.name} == ${board.m_id}">
		<a th:href="@{/board/update(boardnum=${board.b_num})}">수정</a> <!-- @{/update(boardnum=${board.boardnum})} --> <!-- @{/board/update} -->
		<a th:href="|javascript:deleteBoard(${board.b_num})|">삭제</a>
	</div>
	
	<a th:href="@{/boardView/listboard}">목록보기</a>


	<form id="pagingForm" th:action="@{/board/list}" method="get">
		<input type="hidden" name="page" id="page">
		<select name="type" id="type">
			<option value="title" th:selected="${type} == 'title'">제목</option> 	
			<option value="contents" th:selected="${type} == 'contents'">본문</option> 
			<option value="memberid" th:selected="${type} == 'memberid'">사용자ID</option>
			<option value="all" th:selected="${type} == 'all'">전체</option>
		</select>
		<input type="text" name="searchWord" th:value="${searchWord}"> 		
		<input type="button" value="검색" onclick="pagingFormSubmit(1)">
	</form> -->
	
		<div id="navigator">
	
	<!--    
	<a th:href="|javascript:pagingFormSubmit(${navi.currentPage - navi.pagePerGroup})|">◁◁</a>
	<a th:href="|javascript:pagingFormSubmit(${navi.currentPage - 1})|">◀</a> 
	
	<!-- 
	<span th:each="counter : ${#numbers.sequence(navi.startPageGroup, navi.endPageGroup)}"> 
		<th:block th:if="${counter == navi.currentPage}"><b></th:block> <!-- if문의 결과 참이든 거짓이든 무조건 없어짐. 별 기능 없는 태그 --> <!-- 지금 보고 있는 페이지랑 반복문의 페이지랑 만나면 다르게 표현하려고(현재 페이지 좀 굵게) 씀 -->
		<!--  	<a th:text="${counter}" th:href="|javascript:pagingFormSubmit(${counter})|"></a>&nbsp; <!-- 1, 2, 3, 4, 5. 매번 다른 숫자를 보냄 -->
		<!-- <th:block th:if="${counter == navi.currentPage}"></b></th:block>-->
	<!-- </span>
	
	<a th:href="|javascript:pagingFormSubmit(${navi.currentPage + 1})|">▶</a> 
	<a th:href="|javascript:pagingFormSubmit(${navi.currentPage + navi.pagePerGroup})|">▷▷</a>
	<br><br>
	
	<!-- 검색폼 -->
	<!-- <form id="pagingForm" method="get" th:action="@{/board/listboard}">
		<input type="hidden" name="page" id="page" />
		<select id="type" name="type">
			<option value="b_title" th:selected="${type} == 'b_title'">제목</option>
			<option value="b_contents" th:selected="${type} == 'b_contents'">내용</option>
			<option value="m_id" th:selected="${type} == 'm_id'">작성자ID</option>
			<option value="all" th:selected="${type} == 'all'">전체</option>
		</select>
		<input type="text"  name="searchWord" th:value="${searchWord}">
		<input type="button" onclick="pagingFormSubmit(1)" value="검색">
	</form>
	-->
	</div>
</body>
</html>