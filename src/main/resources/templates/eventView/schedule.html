<!DOCTYPE html>
<html lang="ko" xmlns:th="http://thymeleaf.org">
<head>
<div th:replace="/fragments/head.html :: fragment-head"></div>
 <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
<title>Insert title here</title>
</head>
<script>
        $(function(){
            var today = new Date();
            var date = new Date();           

            $("input[name=preMon]").click(function() { // 이전달
                $("#calendar > tbody > td").remove();
                $("#calendar > tbody > tr").remove();
                today = new Date ( today.getFullYear(), today.getMonth()-1, today.getDate());
                buildCalendar();
            })
            
            $("input[name=nextMon]").click(function(){ //다음달
                $("#calendar > tbody > td").remove();
                $("#calendar > tbody > tr").remove();
                today = new Date ( today.getFullYear(), today.getMonth()+1, today.getDate());
                buildCalendar();
            })


            function buildCalendar() {
                
                nowYear = today.getFullYear();
                nowMonth = today.getMonth();
                firstDate = new Date(nowYear,nowMonth,1).getDate();
                firstDay = new Date(nowYear,nowMonth,1).getDay(); //1st의 요일
                lastDate = new Date(nowYear,nowMonth+1,0).getDate();

                if((nowYear%4===0 && nowYear % 100 !==0) || nowYear%400===0) { //윤년 적용
                    lastDate[1]=29;
                }

                $(".year_mon").text(nowYear+"년 "+(nowMonth+1)+"월");

                for (i=0; i<firstDay; i++) { //첫번째 줄 빈칸
                    $("#calendar tbody:last").append("<td></td>");
                }
                for (i=1; i <=lastDate; i++){ // 날짜 채우기
                    plusDate = new Date(nowYear,nowMonth,i).getDay();
                    if (plusDate==0) {
                        $("#calendar tbody:last").append("<tr></tr>");
                    }
                    $("#calendar tbody:last").append("<td class='date'>"+ i +"</td>");
                }
                if($("#calendar > tbody > td").length%7!=0) { //마지막 줄 빈칸
                    for(i=1; i<= $("#calendar > tbody > td").length%7; i++) {
                        $("#calendar tbody:last").append("<td></td>");
                    }
                }
                $(".date").each(function(index){ // 오늘 날짜 표시
                	if(nowYear==date.getFullYear() && nowMonth==date.getMonth() && $(".date").eq(index).text()==date.getDate()) {
                        $(".date").eq(index).addClass('colToday');
                      
                    }
                }) 
            }
            buildCalendar();
			

        })
  
    </script>




 <style>
        table {
        
            clear: both;
            
            margin:auto;
        }
        th {
            height: 100px;
            width: 100px;
            font-size:35px;
            background-color: white;
        }
        td {
            text-align: center;
            height: 50px;
            width: 70px;
            font-size: 29px;
            background-color: white;  
        }
        .year_mon{
            font-size: 45px;
            color:#333333;
        }
        .colToday{
            color : #333333;
            background-color: #BEF5A4;
             font-size: 30px;
             font-weight:bolder
             
        }

	#calendar{
		padding:100px;
		margin:auto;
		color : #999999;
	}
	
	
	#section_0{
	padding :  100px;
	
	}
    </style>
<body>
    <div id="wrap">
        <header id="header">
             <div th:replace="/fragments/header.html :: fragment-header"></div>
        </header>
        <div id="container">
            <section id="section_0">
         
	<table id="calendar">
        <thead>
            <tr>
                <th><input name="preMon" type="button" value="<" style="height: 100px; width: 100px; border: none; background-color: white; color:black; font-size: 30px;"></th>
                <th colspan="5" class="year_mon"></th>
                <th><input name="nextMon" type="button" value=">" style="height: 100px; width: 100px; border: none; background-color:white; color:black; font-size: 30px;"></th>
            </tr>
            <tr>
                <th>일</th>
                <th>월</th>
                <th>화</th>
                <th>수</th>
                <th>목</th>
                <th>금</th>
                <th>토</th>
            </tr>
        </thead>
        <tbody>
			        	
        </tbody>
    </table>

 		</section>
 	
  	  		</div>           
  	  	</div>        
  
            <section id="section_1">
                <div class="s1_cont">
                    <div class="slogan">
                        <a></a>
                    </div>
                    <ul class="thumb">
                        <li><a href="#"><img th:src="@{/img/sc1_1.jpg}" alt="th1"></a></li>
                        <li><a href="#"><img th:src="@{/img/sc1_2.jpg}" alt="th2"></a></li>
                        <li><a href="#"><img th:src="@{/img/sc1_3.jpg}" alt="th3"></a></li>
                    </ul>
                </div>
       </section>
            <section id="section_3">
                 <div th:replace="/fragments/section_3.html :: fragment-section_3"></div>         
            </section>
            <section id="section_4">
                 <div th:replace="/fragments/section_4.html :: fragment-section_4"></div>
            </section>
        <footer id="footer">
             <div th:replace="/fragments/footer.html :: fragment-footer"></div>
        </footer>
        <aside id="aside">
             <div th:replace="/fragments/aside.html :: fragment-aside"></div>
        </aside>
</body>
</html>